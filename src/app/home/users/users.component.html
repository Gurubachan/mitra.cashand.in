<nb-card>
  <nb-card-body>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Contact</th>
          <th>Role</th>
          <th>Address</th>
          <th>Created Date</th>
          <th>Login Allowed</th>
          <th>View</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of usersList?.data; let i = index">
          <td>{{ increment(i) }}</td>
          <td>{{ user.fname + " " + user.lname }}</td>
          <td>
            {{ user.contact }} <br />
            {{ user.email }}
          </td>
          <td>{{ user.userRole }}</td>
          <td>
            {{
              user.address +
                ", " +
                user.village +
                ", " +
                user.SubDistrict +
                ", " +
                user.poName +
                ", " +
                user.district +
                ", " +
                user.state +
                ", " +
                user.pincode
            }}
          </td>

          <td>{{ user.created_at | date: "dd-MM-yyyy hh:mm:ss" }}</td>
          <td>
            <nb-toggle
              status="success"
              [checked]="user.loginAllowed == '1' ? 'true' : 'false'"
              (change)="test(user)"
              [(ngModel)]="user.loginAllowed"
            ></nb-toggle>
          </td>
          <td>
            <button
              (click)="view(user)"
              nbButton
              fullWidth
              status="success"
              [class.btn-pulse]="submitted"
            >
              View
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </nb-card-body>
</nb-card>

